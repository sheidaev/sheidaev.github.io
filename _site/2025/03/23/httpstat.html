<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>httpstat - візуалізація статистики HTTP-запитів для богатих | Блог перформанс-інженера Костянтина Шейдаєва</title><meta name="description" content="Блог перформанс-інженера Костянтина Шейдаєва. Тут матюкаються і говорять про перформанс-інженірінг."><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/favicon.ico" type="image/x-icon"><link href='/feed.xml' rel='alternate' type='application/atom+xml'><link rel="canonical" href="/2025/03/23/httpstat.html"><link rel="stylesheet" href="/assets/style.css"> <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-3PKYF558LM"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-3PKYF558LM'); </script><body><main> <!DOCTYPE html><html lang="en" dir="ltr"><header><h2 class="title">Блог перформанс-інженера Костянтина Шейдаєва</h2><nav><p> <a href="https://sheidaev.com">Головна</a> <a href="https://sheidaev.com/blog">Блог</a> <a href="https://sheidaev.com/study">Програми навчання</a> <a href="https://sheidaev.com/about">Про мене</a></p></nav></header><h1>httpstat - візуалізація статистики HTTP-запитів для богатих</h1><i>Mar 23, 2025</i><h4 class="subtitle"></h4><h3 id="-що-таке-httpstat">&gt; Що таке httpstat?</h3><p>Не потрібен опис, достатньо однієї картинки:</p><p><img src="/assets/images/httpstat/metrics.png" alt="Приклад роботи httpstat" style="width: 100%; display: block; margin: 0 auto;" /></p><p>Але, кілька слів я таки скажу:</p><ul><li>Я його використовую, щоб швидко зрозуміти на якому етапі HTTP-запиту ми втрачаємо час.<li>Його завдання – спрямувати тебе в потрібному напрямку і зробити цей процес максимально простим, наочним і прозорим.</ul><h3 id="-встановлення">&gt; Встановлення</h3><p>Основні способи встановлення httpstat:</p><ol><li><strong>Пряме завантаження скрипту</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://raw.githubusercontent.com/reorx/httpstat/master/httpstat.py
</code></pre></div></div><li><strong>Через pip</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install httpstat
</code></pre></div></div><li><strong>Через homebrew</strong> (тільки для macOS):<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install httpstat
</code></pre></div></div><li><strong>Для користувачів Windows</strong> рекомендується не бути користувачами Windows.</ol><h3 id="-налаштування">&gt; Налаштування</h3><p>Інструмент підтримує багато змінних середовища для контролю своєї поведінки:</p><ul><li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SHOW_BODY</code> - показувати тіло відповіді (обмежено 1023 байтами)<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SHOW_IP</code> - показувати віддалену та локальну IP/порт адресу<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SHOW_SPEED</code> - відображати швидкість завантаження та вивантаження<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SAVE_BODY</code> - зберігати тіло відповіді у тимчасовому файлі<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_CURL_BIN</code> - вказати шлях до бінарного файлу curl<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_METRICS_ONLY</code> - виводити лише метрики у форматі JSON<li><code class="language-plaintext highlighter-rouge">HTTPSTAT_DEBUG</code> - режим відлагодження</ul><p>Особисто я використовую лише дві:</p><ul><li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SHOW_SPEED=true</code><li><code class="language-plaintext highlighter-rouge">HTTPSTAT_SAVE_BODY=false</code></ul><h3 id="-використання">&gt; Використання</h3><p>Оскільки httpstat є обгорткою для curl, ви можете передавати будь-які підтримувані curl-опції після URL.</p><p><img src="/assets/images/httpstat/output-explane.png" alt="Приклад роботи httpstat" style="width: 100%; display: block; margin: 0 auto;" /></p><h4 id="get-запити">GET запити:</h4><ol><li><strong>Базовий GET</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/get
</code></pre></div></div><li><strong>GET з параметрами в URL</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat "httpbin.org/get?param1=value1&amp;param2=value2"
</code></pre></div></div><li><strong>GET з користувацькими заголовками</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/get -H "User-Agent: MyCustomAgent" -H "Accept: application/json"
</code></pre></div></div><li><strong>GET з аутентифікацією</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/basic-auth/user/pass -u user:pass
</code></pre></div></div><li><strong>GET з відображенням швидкості передачі</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTPSTAT_SHOW_SPEED=true httpstat http://cachefly.cachefly.net/10mb.test
</code></pre></div></div><li><strong>GET з відображенням тіла відповіді</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTPSTAT_SHOW_BODY=true httpstat httpbin.org/json
</code></pre></div></div><li><strong>GET запит з увімкненим детальним режимом</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/get -v
</code></pre></div></div></ol><h4 id="post-запити">POST запити:</h4><ol><li><strong>Базовий POST з даними форми</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/post -X POST -d "name=value&amp;foo=bar"
</code></pre></div></div><li><strong>POST з JSON даними</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/post -X POST -H "Content-Type: application/json" -d '{"key1":"value1","key2":"value2"}'
</code></pre></div></div><li><strong>POST з URL-encoded даними</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/post -X POST --data-urlencode "title=Test Title" --data-urlencode "body=This is the content"
</code></pre></div></div><li><strong>POST з файлом</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/post -X POST -F "file=@/path/to/file.txt"
</code></pre></div></div><li><strong>POST з аутентифікацією</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/post -X POST -u username:password -d "content=test"
</code></pre></div></div></ol><h4 id="put-запити">PUT запити:</h4><ol><li><strong>Базовий PUT з даними</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/put -X PUT -d "key=updatedvalue"
</code></pre></div></div><li><strong>PUT запит з JSON даними</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/put -X PUT -H "Content-Type: application/json" -d '{"status":"updated","id":123}'
</code></pre></div></div><li><strong>PUT запит для завантаження файлу</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/put -X PUT --upload-file /path/to/file.txt
</code></pre></div></div><li><strong>PUT запит з керуванням перенаправленням</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/put -X PUT -L -d "content=test"
</code></pre></div></div><li><strong>PUT запит з додатковими налаштуваннями безпеки</strong>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpstat httpbin.org/put -X PUT --tlsv1.2 --ciphers HIGH -d "secure_data=value"
</code></pre></div></div><h3 id="-висновки">&gt; Висновки</h3></ol><ul><li>інструмент крутий;<li>встановити легко;<li>в статті купа прикладів;<li>треба використовувати, але не витрачайте на цьому етапы багато часу, зрозуміли де повільно і пірнайте глибше.</ul><p><a href="https://github.com/reorx/httpstat">Перейти до GitHub-репозиторію</a></p></main>
